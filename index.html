<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200&display=swap" rel="stylesheet">
    <title>A Simple Calculator</title>
</head>

<body>
    <section>
        <div class="container">
            <div class="display">
                <div class="display-1">0</div>
                <div class="display-2">0</div>
                <div class="temp-result">0</div>
            </div>
            <div class="all-buttons">
                <div class="button all-clear">C</div>
                <div class="button last-entity-clear">CE</div>
                <div class="button operation">%</div>
                <div class="button operation">/</div>
                <div class="button number">7</div>
                <div class="button number">8</div>
                <div class="button number">9</div>
                <div class="button operation">X</div>
                <div class="button number">4</div>
                <div class="button number">5</div>
                <div class="button number">6</div>
                <div class="button operation">-</div>
                <div class="button number">1</div>
                <div class="button number">2</div>
                <div class="button number">3</div>
                <div class="button operation">+</div>
                <div class="button number btn-0">0</div>
                <div class="button number dot">.</div>
                <div class="button equal">=</div>
            </div>
        </div>
    </section>
</body>

<script>

    const display1El = document.querySelector('.display-1');
    const display2El = document.querySelector('.display-2');
    const tempResultEl = document.querySelector('.temp-result');
    const numbersEl = document.querySelectorAll('.number');
    const operationEl = document.querySelectorAll('.operation');
    const equalEl = document.querySelector('.equal');
    const clearAllEl = document.querySelector('.all-clear');
    const clearLastEl = document.querySelector('.last-entity-clear');

    let dis1Num = '';
    let dis2Num = '';
    let result = null;
    let lastOperation = '';
    let haveDot = false;

    numbersEl.forEach(number => {
        number.addEventListener('click', (e) => {
            if (e.target.innerText === '.' && !haveDot) {
                haveDot = true;
            } else if (e.target.innerText === '.' && haveDot) {
                return;
            }
            dis2Num += e.target.innerText;
            display2El.innerText = dis2Num;
        })
    });
    operationEl.forEach(operation => {
        operation.addEventListener('click', (e) => {
            if (!dis2Num) return;
            haveDot = false;
            const operationName = e.target.innerText;
            if (dis1Num && dis2Num && lastOperation) {
                mathOperation();
            } else {
                result = parseFloat(dis2Num);
            }
            clearVar(operationName);
            lastOperation = operationName;
        })
    });
</script>
</html>